// ============================================
// HƯỚNG DẪN TEST CART API
// ============================================

// BƯỚC 1: ĐĂNG NHẬP ĐỂ LẤY TOKEN
// Method: POST
// URL: http://localhost:5000/api/login
// Body:
{
    "username": "your_username",
    "password": "your_password"
}
// Copy token từ response

// ============================================
// BƯỚC 2: LẤY GIỎ HÀNG (GET)
// Method: GET
// URL: http://localhost:5000/api/cart
// Headers:
//   Authorization: Bearer [TOKEN]
// Response: Cart với items (có thể rỗng nếu chưa thêm gì)

// ============================================
// BƯỚC 3: THÊM SẢN PHẨM VÀO GIỎ (POST)
// Method: POST
// URL: http://localhost:5000/api/cart/items
// Headers:
//   Authorization: Bearer [TOKEN]
//   Content-Type: application/json
// Body:
{
    "product_id": 1,
    "quantity": 2
}
// Response: Item vừa thêm hoặc đã cập nhật

// ============================================
// BƯỚC 4: XEM LẠI GIỎ HÀNG (GET)
// Method: GET
// URL: http://localhost:5000/api/cart
// Headers:
//   Authorization: Bearer [TOKEN]
// Response: Cart với items đã thêm + total

// ============================================
// BƯỚC 5: CẬP NHẬT SỐ LƯỢNG (PUT)
// Method: PUT
// URL: http://localhost:5000/api/cart/items/[ITEM_ID]
// Headers:
//   Authorization: Bearer [TOKEN]
//   Content-Type: application/json
// Body:
{
    "quantity": 5
}
// Response: Item đã cập nhật

// ============================================
// BƯỚC 6: XÓA MỘT ITEM (DELETE)
// Method: DELETE
// URL: http://localhost:5000/api/cart/items/[ITEM_ID]
// Headers:
//   Authorization: Bearer [TOKEN]
// Response: Success message

// ============================================
// BƯỚC 7: XÓA TOÀN BỘ GIỎ HÀNG (DELETE)
// Method: DELETE
// URL: http://localhost:5000/api/cart
// Headers:
//   Authorization: Bearer [TOKEN]
// Response: Success message

// ============================================
// BƯỚC 8: TÍNH TỔNG TIỀN (GET - TÙY CHỌN)
// Method: GET
// URL: http://localhost:5000/api/cart/total
// Headers:
//   Authorization: Bearer [TOKEN]
// Response: { total: 60000000, item_count: 2 }

// ============================================
// TEST CASES:
// ============================================

// 1. Thêm sản phẩm không tồn tại
//    → 404: Sản phẩm không tồn tại

// 2. Thêm với quantity <= 0
//    → 400: Số lượng phải lớn hơn 0

// 3. Thêm cùng sản phẩm 2 lần
//    → Quantity sẽ được cộng dồn

// 4. Update item không thuộc cart của mình
//    → 404: Item không tồn tại hoặc không thuộc giỏ hàng của bạn

// 5. Xóa item không tồn tại
//    → 404: Item không tồn tại

// 6. Lấy cart khi chưa có
//    → Tự động tạo cart mới và trả về cart rỗng

// ============================================
// RESPONSE FORMAT MẪU:
// ============================================

// GET /api/cart:
{
    "cart": {
        "id": 1,
        "user_id": 3,
        "status": "active",
        "created_at": "2025-01-15T10:00:00.000Z",
        "updated_at": "2025-01-15T10:00:00.000Z",
        "items": [
            {
                "id": 1,
                "cart_id": 1,
                "product_id": 1,
                "quantity": 2,
                "price": 30000000,
                "product_name": "Laptop Gaming XYZ",
                "product_category": "laptop",
                "subtotal": 60000000,
                "created_at": "2025-01-15T10:00:00.000Z",
                "updated_at": "2025-01-15T10:00:00.000Z"
            }
        ],
        "total": 60000000,
        "item_count": 1
    }
}

// POST /api/cart/items:
{
    "message": "Đã thêm sản phẩm vào giỏ hàng",
    "item": {
        "id": 1,
        "cart_id": 1,
        "product_id": 1,
        "quantity": 2,
        "price": 30000000
    }
}

// PUT /api/cart/items/:id:
{
    "message": "Đã cập nhật số lượng",
    "item": {
        "id": 1,
        "cart_id": 1,
        "product_id": 1,
        "quantity": 5,
        "price": 30000000
    }
}

// DELETE /api/cart/items/:id:
{
    "message": "Đã xóa sản phẩm khỏi giỏ hàng"
}

// DELETE /api/cart:
{
    "message": "Đã xóa toàn bộ giỏ hàng"
}


