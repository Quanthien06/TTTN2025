<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechShop</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="apple-touch-icon" sizes="180x180" href="./img/logo/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./img/logo/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./img/logo/favicon-16x16.png">
    <link rel="manifest" href="./img/logo/site.webmanifest">
    <!-- Custom styles -->
    <link rel="stylesheet" href="/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* Animation */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in {
            animation: fadeIn 0.3s ease-out;
        }

        /* Product card hover */
        .product-card {
            transition: all 0.3s ease;
        }

        .product-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body class="bg-gray-50">
    <!-- Top Bar (Red Banner) -->
    <div class="bg-red-600 text-white py-2 text-xs">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between flex-wrap gap-2">
                <div class="flex items-center gap-4 flex-wrap">
                    <span>‚úì ƒê√£ bao g·ªìm VAT ƒë·∫ßy ƒë·ªß</span>
                    <span>üöö Giao nhanh - Mi·ªÖn ph√≠ cho ƒë∆°n 300k</span>
                    <span>üîÑ Thu c≈© gi√° ngon ‚Äì L√™n ƒë·ªùi ti·∫øt ki·ªám</span>
                    <span>‚úì S·∫£n ph·∫©m Ch√≠nh h√£ng</span>
                </div>
                <div class="flex items-center gap-4">
                    <a href="#" class="hover:underline">C·ª≠a h√†ng g·∫ßn b·∫°n</a>
                    <a href="#" class="hover:underline">Tra c·ª©u ƒë∆°n h√†ng</a>
                    <span>üìû Hotline: <strong>1800 2097</strong></span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <!-- Header Content -->
            <div class="flex items-center justify-between py-4 gap-4">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="#" onclick="navigateTo('home'); return false;" class="flex items-center gap-2">
                        <span class="text-3xl">üõçÔ∏è</span>
                        <span class="text-2xl font-bold text-red-600">TechStore</span>
                    </a>
                </div>

                <!-- Search Bar -->
                <div class="flex-1 max-w-2xl mx-4">
                    <div class="relative">
                        <input type="text" id="mainSearchInput" placeholder="B·∫°n mu·ªën mua g√¨ h√¥m nay?"
                            class="w-full px-4 py-2 pr-10 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-red-500 transition-all" />
                        <button
                            class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-red-600">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Right Actions -->
                <div class="flex items-center gap-4">
                    <!-- Cart -->
                    <a href="#" onclick="navigateTo('cart'); return false;"
                        class="relative flex items-center gap-2 text-gray-700 hover:text-red-600 transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z">
                            </path>
                        </svg>
                        <span class="hidden md:block font-medium">Gi·ªè h√†ng</span>
                        <span id="cartBadgeHeader"
                            class="absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center hidden">0</span>
                    </a>

                    <!-- User Menu / Auth Buttons -->
                    <div id="navUser" class="hidden">
                        <div class="relative">
                            <button id="userMenuBtn"
                                class="flex items-center gap-2 text-gray-700 hover:text-red-600 transition-colors">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                                </svg>
                                <span id="userName" class="hidden md:block font-medium"></span>
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </button>
                            <div id="userMenuDropdown"
                                class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2">
                                <a href="#" onclick="navigateTo('profile'); return false;"
                                    class="block px-4 py-2 text-gray-700 hover:bg-gray-100">H·ªì s∆°</a>
                                <a href="#" onclick="navigateTo('orders'); return false;"
                                    class="block px-4 py-2 text-gray-700 hover:bg-gray-100">ƒê∆°n h√†ng</a>
                                <a href="#" id="logoutBtn" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">ƒêƒÉng
                                    xu·∫•t</a>
                            </div>
                        </div>
                    </div>
                    <div id="navAuth" class="flex items-center gap-2">
                        <a href="/login.html"
                            class="px-4 py-2 text-gray-700 hover:text-red-600 font-medium transition-colors">ƒêƒÉng
                            nh·∫≠p</a>
                        <a href="/register.html"
                            class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors">ƒêƒÉng
                            k√Ω</a>
                    </div>
                </div>
            </div>

            <!-- Navigation Bar -->
            <div class="border-t border-gray-200 py-3">
                <nav class="flex items-center gap-6">
                    <a href="#" onclick="navigateTo('home'); return false;"
                        class="nav-link text-gray-700 hover:text-red-600 font-medium transition-colors"
                        data-page="home">Trang ch·ªß</a>
                    <a href="#" onclick="navigateTo('products'); return false;"
                        class="nav-link text-gray-700 hover:text-red-600 font-medium transition-colors"
                        data-page="products">S·∫£n ph·∫©m</a>
                    <a href="#" onclick="navigateTo('categories'); return false;"
                        class="nav-link text-gray-700 hover:text-red-600 font-medium transition-colors"
                        data-page="categories">Danh m·ª•c</a>
                </nav>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Home Page -->
        <section class="page" id="pageHome" data-page="home">
            <!-- Hero Banner -->
            <div class="bg-gradient-to-r from-red-600 to-red-700 text-white py-12 mb-8">
                <div class="container mx-auto px-4">
                    <div class="text-center">
                        <h2 class="text-4xl font-bold mb-4">Ch√†o m·ª´ng ƒë·∫øn TechStore</h2>
                        <p class="text-xl mb-6">N∆°i mua s·∫Øm tr·ª±c tuy·∫øn uy t√≠n, ch·∫•t l∆∞·ª£ng</p>
                        <button onclick="navigateTo('products')"
                            class="bg-white text-red-600 px-8 py-3 rounded-lg font-bold hover:bg-gray-100 transition-colors">
                            Kh√°m ph√° s·∫£n ph·∫©m
                        </button>
                    </div>
                </div>
            </div>

            <div class="container mx-auto px-4">
                <!-- Categories Quick View -->
                <div class="mb-12">
                    <h3 class="text-2xl font-bold text-gray-800 mb-6">Danh m·ª•c s·∫£n ph·∫©m</h3>
                    <div class="categories-grid grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4"
                        id="categoriesGrid">
                        <div class="text-center text-gray-500">ƒêang t·∫£i...</div>
                    </div>
                </div>

                <!-- Featured Products -->
                <div class="mb-12">
                    <h3 class="text-2xl font-bold text-gray-800 mb-6">S·∫£n ph·∫©m n·ªïi b·∫≠t</h3>
                    <div class="products-grid grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"
                        id="featuredProducts">
                        <div class="text-center text-gray-500">ƒêang t·∫£i...</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Products Page -->
        <section class="page hidden" id="pageProducts" data-page="products">
            <div class="container mx-auto px-4 py-8">
                <div class="mb-6">
                    <h2 class="text-3xl font-bold text-gray-800">S·∫£n ph·∫©m</h2>
                </div>

                <!-- Search & Filter -->
                <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
                        <input type="text" id="searchInput" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m..."
                            class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-500">
                        <select id="categoryFilter"
                            class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-500">
                            <option value="">T·∫•t c·∫£ danh m·ª•c</option>
                        </select>
                        <select id="sortSelect"
                            class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-500">
                            <option value="id">S·∫Øp x·∫øp</option>
                            <option value="price-asc">Gi√°: Th·∫•p ‚Üí Cao</option>
                            <option value="price-desc">Gi√°: Cao ‚Üí Th·∫•p</option>
                            <option value="name-asc">T√™n: A ‚Üí Z</option>
                        </select>
                        <div class="flex gap-2">
                            <button id="applyFiltersBtn"
                                class="flex-1 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors">L·ªçc</button>
                            <button id="resetFiltersBtn"
                                class="flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors">X√≥a</button>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-sm text-gray-600 mb-1">Gi√° t·ª´:</label>
                            <input type="number" id="minPrice" placeholder="0"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-500">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-600 mb-1">ƒë·∫øn:</label>
                            <input type="number" id="maxPrice" placeholder="Max"
                                class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-500">
                        </div>
                    </div>
                </div>

                <!-- Products Grid -->
                <div class="products-grid grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-8"
                    id="productsGrid">
                    <div class="text-center text-gray-500">ƒêang t·∫£i...</div>
                </div>

                <!-- Pagination -->
                <div class="pagination flex justify-center gap-2" id="pagination"></div>
            </div>
        </section>

        <!-- Categories Page -->
        <section class="page hidden" id="pageCategories" data-page="categories">
            <div class="container mx-auto px-4 py-8">
                <div class="mb-6">
                    <h2 class="text-3xl font-bold text-gray-800">Danh m·ª•c s·∫£n ph·∫©m</h2>
                </div>
                <div class="categories-list grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6" id="categoriesList">
                    <div class="text-center text-gray-500">ƒêang t·∫£i...</div>
                </div>
            </div>
        </section>

        <!-- Cart Page -->
        <section class="page hidden" id="pageCart" data-page="cart">
            <div class="container mx-auto px-4 py-8">
                <div class="mb-6">
                    <h2 class="text-3xl font-bold text-gray-800">Gi·ªè h√†ng c·ªßa t√¥i</h2>
                </div>
                <div id="cartContent">
                    <div class="text-center text-gray-500">ƒêang t·∫£i...</div>
                </div>
            </div>
        </section>

        <!-- Orders Page -->
        <section class="page hidden" id="pageOrders" data-page="orders">
            <div class="container mx-auto px-4 py-8">
                <div class="mb-6">
                    <h2 class="text-3xl font-bold text-gray-800">ƒê∆°n h√†ng c·ªßa t√¥i</h2>
                </div>
                <div id="ordersContent">
                    <div class="text-center text-gray-500">ƒêang t·∫£i...</div>
                </div>
            </div>
        </section>

        <!-- Profile Page -->
        <section class="page hidden" id="pageProfile" data-page="profile">
            <div class="container mx-auto px-4 py-8">
                <div class="mb-6">
                    <h2 class="text-3xl font-bold text-gray-800">H·ªì s∆° c√° nh√¢n</h2>
                </div>
                <div class="profile-content max-w-2xl" id="profileContent">
                    <div class="text-center text-gray-500">ƒêang t·∫£i...</div>
                </div>
            </div>
        </section>
    </main>

    <!-- Floating Sidebar -->
    <div class="fixed right-4 bottom-4 z-40 flex flex-col gap-3">
        <button onclick="window.scrollTo({top: 0, behavior: 'smooth'})"
            class="bg-red-600 text-white p-3 rounded-full shadow-lg hover:bg-red-700 transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18">
                </path>
            </svg>
        </button>
        <a href="#" class="bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z">
                </path>
            </svg>
        </a>
    </div>

    <!-- Modal: Login -->
    <div class="modal hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"
        id="loginModal">
        <div class="modal-content bg-white rounded-lg p-6 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-gray-800">ƒêƒÉng nh·∫≠p</h2>
                <button id="loginModalClose" class="text-gray-500 hover:text-gray-700">&times;</button>
            </div>
            <form id="loginForm">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">T√™n ƒëƒÉng nh·∫≠p</label>
                    <input type="text" id="loginUsername"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-500"
                        required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">M·∫≠t kh·∫©u</label>
                    <input type="password" id="loginPassword"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-500"
                        required>
                </div>
                <button type="submit"
                    class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors font-bold">ƒêƒÉng
                    nh·∫≠p</button>
            </form>
            <div class="modal-message mt-4 hidden" id="loginMessage"></div>
        </div>
    </div>

    <!-- Modal: Register -->
    <div class="modal hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"
        id="registerModal">
        <div class="modal-content bg-white rounded-lg p-6 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-gray-800">ƒêƒÉng k√Ω</h2>
                <button id="registerModalClose" class="text-gray-500 hover:text-gray-700">&times;</button>
            </div>
            <form id="registerForm">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">T√™n ƒëƒÉng nh·∫≠p</label>
                    <input type="text" id="registerUsername"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-500"
                        required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">M·∫≠t kh·∫©u</label>
                    <input type="password" id="registerPassword"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-500"
                        required minlength="6">
                </div>
                <button type="submit"
                    class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors font-bold">ƒêƒÉng
                    k√Ω</button>
            </form>
            <div class="modal-message mt-4 hidden" id="registerMessage"></div>
        </div>
    </div>

    <!-- Modal: Checkout -->
    <div class="modal hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"
        id="checkoutModal">
        <div class="modal-content bg-white rounded-lg p-6 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-gray-800">ƒê·∫∑t h√†ng</h2>
                <button id="checkoutModalClose" class="text-gray-500 hover:text-gray-700">&times;</button>
            </div>
            <form id="checkoutForm">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">ƒê·ªãa ch·ªâ giao h√†ng</label>
                    <textarea id="shippingAddress" rows="3"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-500"
                        required></textarea>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">S·ªë ƒëi·ªán tho·∫°i</label>
                    <input type="tel" id="shippingPhone"
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-red-500"
                        required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2">T·ªïng ti·ªÅn</label>
                    <input type="text" id="orderTotal" readonly
                        class="w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-100">
                </div>
                <button type="submit"
                    class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors font-bold">X√°c
                    nh·∫≠n ƒë·∫∑t h√†ng</button>
            </form>
            <div class="modal-message mt-4 hidden" id="checkoutMessage"></div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center"
        id="loadingOverlay">
        <div class="spinner border-4 border-gray-300 border-t-red-600 rounded-full w-12 h-12 animate-spin"></div>
    </div>

    <!-- Notification Toast -->
    <div class="toast fixed bottom-4 right-4 bg-white border border-gray-200 rounded-lg shadow-lg p-4 hidden z-50"
        id="toast"></div>

    <script src="/app.js"></script>
    <script>
        // Ki·ªÉm tra ƒëƒÉng nh·∫≠p khi trang load
        document.addEventListener('DOMContentLoaded', () => {
            // Ki·ªÉm tra token t·ª´ URL (sau khi ƒëƒÉng nh·∫≠p OAuth)
            const urlParams = new URLSearchParams(window.location.search);
            const token = urlParams.get('token');
            if (token) {
                localStorage.setItem('token', token);
                // X√≥a token kh·ªèi URL
                window.history.replaceState({}, document.title, window.location.pathname);
            }

            // Ki·ªÉm tra ƒëƒÉng nh·∫≠p
            if (typeof checkAuth === 'function') {
                checkAuth();
            }
        });
    </script>
</body>

</html>